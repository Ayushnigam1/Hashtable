import Head from "next/head";
import styles from "@/styles/Home.module.css";
import Navbar from "@/components/Navbar";

import Cards from "@/components/Cards";
import { Hero } from "@/components/Hero";
import Search from "@/components/Search";
import Footer from "@/components/Footer";
import { getSections } from "lib/sections";

export async function getStaticProps() {
    const allSectionsData = getSections();
    return {
        props: {
            allSectionsData,
        },
    };
}

export default function Home({ allSectionsData }: any) {
    return (
        <>
            <Head>
                <title>Hashtable</title>
                <meta name="description" content="Generated by create next app" />
                <meta name="viewport" content="width=device-width, initial-scale=1" />
                <link rel="icon" href="/favicon.ico" />
            </Head>
            <main>
                <Navbar />
                <Hero>
                    <div
                        style={{
                            display: "flex",
                            alignItems: "center",
                            flexDirection: "column",
                            gap: "1rem",
                        }}
                    >
                        <h4 className="text-3xl text-gray">Stuck in a Problem?</h4>
                        <Search />
                    </div>
                </Hero>
                <section className={"max-w-[60%] m-auto mt-4"}>
                    <div className="grid grid-cols-3 gap-4">
                        {allSectionsData.map((section: any, idx: number) => {
                            return <Cards title={section} key={idx} />;
                        })}
                    </div>
                </section>
                <Footer />
            </main>
        </>
    );
}
